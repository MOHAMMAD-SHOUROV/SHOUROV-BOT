/** Respect the credits â€” Edited & Styled by your request **/
module.exports.config = {
  name: `${global.config.PREFIX}`,
  version: "1.0.0",
  permission: 0,
  credits: "shourov",
  prefix: true,
  description: "Random Islamic Caption + Image",
  category: "user",
  usages: "",
  cooldowns: 5
};

module.exports.run = async ({ api, event }) => {
  const axios = global.nodemodule["axios"];
  const request = global.nodemodule["request"];
  const fs = global.nodemodule["fs-extra"];

  // â”€â”€â”€ Caption List â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const captions = [
    "â€œà¦¸à¦¬à¦¾à¦‡ à¦›à¦¬à¦¿à¦° à¦ªà§‡à¦›à¦¨à§‡à¦° à¦—à¦²à§à¦ªà¦Ÿà¦¾ à¦¬à§‹à¦à§‡ à¦¨à¦¾â€¦ à¦•à¦¿à¦¨à§à¦¤à§ à¦¹à¦¾à¦¸à¦¿à¦Ÿà¦¾ à¦¦à§‡à¦–à§‡ à¦­à¦¾à¦¬à§‡ à¦¸à¦¬ à¦ à¦¿à¦• à¦†à¦›à§‡à¥¤â€",
    "~â€œà¦­à¦¾à¦²à§‹ à¦¥à¦¾à¦•à¦¾à¦° à¦…à¦­à¦¿à¦¨à¦¯à¦¼à§‡ à¦•à§à¦²à¦¾à¦¨à§à¦¤ à¦†à¦®à¦¿, à¦¤à¦¬à§ à¦šà¦¾à¦²à¦¿à¦¯à¦¼à§‡ à¦¯à§‡à¦¤à§‡ à¦¹à¦¯à¦¼à¥¤â€ ðŸ¥€",
    "â€œà¦¤à§‹à¦®à¦¾à¦° à¦…à¦¬à¦¹à§‡à¦²à¦¾ à¦†à¦®à¦¾à¦•à§‡ à¦¶à¦¿à¦–à¦¿à¦¯à¦¼à§‡à¦›à§‡â€”à¦¨à¦¿à¦ƒà¦¶à¦¬à§à¦¦à§‡ à¦¦à§‚à¦°à§‡ à¦šà¦²à§‡ à¦¯à¦¾à¦“à¦¯à¦¼à¦¾à¦‡ à¦¹à¦²à§‹ à¦¸à¦¬à¦šà§‡à¦¯à¦¼à§‡ à¦¬à¦¡à¦¼ à¦¶à¦¾à¦¸à§à¦¤à¦¿!â€",
    "â”€âà¦¹à¦¾à¦¸à¦¤à§‡ à¦¹à¦¾à¦¸à¦¤à§‡ à¦à¦•à¦¦à¦¿à¦¨ ðŸ˜Š\nâ”â¥à¦¸à¦¬à¦¾à¦‡à¦•à§‡ à¦•à¦¾à¦à¦¦à¦¿à§Ÿà§‡ à¦¬à¦¿à¦¦à¦¾à§Ÿ à¦¨à¦¿à¦¬à§‹ðŸ™‚ðŸ’”ðŸ¥€",
    "â€œà¦†à¦®à¦¿ à¦•à¦·à§à¦Ÿ à¦ªà§‡à¦¤à§‡ à¦ªà§‡à¦¤à§‡ à¦à¦®à¦¨ à¦œà¦¾à¦¯à¦¼à¦—à¦¾à¦¯à¦¼ à¦šà¦²à§‡ à¦—à§‡à¦›à¦¿, à¦¯à§‡à¦–à¦¾à¦¨à§‡ à¦à¦–à¦¨ à¦†à¦° à¦•à§‹à¦¨à§‹ à¦…à¦¨à§à¦­à§‚à¦¤à¦¿à¦‡ à¦•à¦¾à¦œ à¦•à¦°à§‡ à¦¨à¦¾â€¦â„ðŸ’”â€",
    "â€œà¦•à¦¿à¦›à§ à¦•à¦¥à¦¾ à¦•à¦¾à¦‰à¦•à§‡ à¦¬à¦²à¦¾ à¦¹à¦¯à¦¼ à¦¨à¦¾, à¦¶à§à¦§à§ à¦¬à§à¦•à§‡à¦° à¦®à¦§à§à¦¯à§‡ à¦šà¦¿à¦°à¦•à¦¾à¦²à§‡à¦° à¦œà¦¨à§à¦¯ à¦œà¦®à¦¾ à¦¥à§‡à¦•à§‡ à¦¯à¦¾à¦¯à¦¼â€¦ðŸ¥€ðŸ”’â€",
    "â€œà¦•à¦¿à¦›à§ à¦¸à¦®à§à¦ªà¦°à§à¦• à¦¨à¦¾ à¦¥à¦¾à¦•à¦²à§‡à¦“ à¦¸à¦¾à¦°à¦¾à¦œà§€à¦¬à¦¨ à¦¥à§‡à¦•à§‡ à¦¯à¦¾à¦¯à¦¼, à¦®à¦¨à§‡, à¦…à¦¨à§à¦­à§‚à¦¤à¦¿à¦¤à§‡, à¦†à¦° à¦•à¦¿à¦›à§ à¦¨à¦¾ à¦¬à¦²à¦¾ à¦•à¦¥à¦¾à¦¯à¦¼â€¦ðŸ’”ðŸ“–â€",
    "â€œà¦¹à¦¾à¦°à¦¿à¦¯à¦¼à§‡ à¦¯à¦¾à¦“à¦¯à¦¼à¦¾ à¦®à¦¾à¦¨à§à¦·à§‡à¦° à¦–à§‹à¦à¦œ à¦¨à¦¿à¦¤à§‡ à¦¨à§‡à¦‡, à¦•à¦¾à¦°à¦£ à¦«à¦¿à¦°à§‡ à¦†à¦¸à¦¾à¦° à¦‡à¦šà§à¦›à§‡ à¦¥à¦¾à¦•à¦²à§‡, à¦¹à¦¾à¦°à¦¿à¦¯à¦¼à§‡ à¦¯à§‡à¦¤à§‹ à¦¨à¦¾! ðŸš¶â€â™‚ðŸ’”â€",
    "à¦¤à¦¾à¦° à¦œà¦¨à§à¦¯ à¦¨à¦¿à¦œà§‡à¦•à§‡ à¦ªà¦°à¦¿à¦¬à¦°à§à¦¤à¦¨ à¦•à¦°à¦¤à§‡ à¦šà§‡à¦¯à¦¼à§‡à¦›à¦¿à¦²à¦¾à¦® à¦•à¦¿à¦¨à§à¦¤à§ à¦¸à§‡ à¦¨à¦¿à¦œà§‡à¦‡ à¦¬à¦¦à¦²à§‡ à¦—à§‡à¦²à§‹",
    "à¦¦à§‡à¦–à§‡ à¦¨à¦¿à¦“ à¦ªà§à¦°à¦¿à¦¯à¦¼ à¦†à¦®à¦¾à¦° à¦¶à§‚à¦¨à§à¦¯à¦¤à¦¾ à¦à¦•à¦¦à¦¿à¦¨ à¦¤à§‹à¦®à¦¾à¦•à§‡ à¦•à¦¾à¦à¦¦à¦¾à¦¬à§‡",
    "à¦†à¦®à¦¿ à¦à¦–à¦¨ à¦à¦¤à¦Ÿà¦¾à¦‡ à¦¬à§à¦¯à¦°à§à¦¥ à¦¯à§‡, à¦•à§‹à¦¨à§‹ à¦•à¦¿à¦›à§ à¦ªà¦¾à¦“à¦¯à¦¼à¦¾à¦° à¦†à¦—à§‡ à¦¹à¦¾à¦°à¦¾à¦¨à§‹à¦° à¦­à¦¯à¦¼ à¦¬à§‡à¦¶à¦¿ à¦²à¦¾à¦—à§‡"
  ];

  // â”€â”€â”€ Image List â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const images = [
    "https://imgur.com/TrQjWE3",
    "https://imgur.com/undefined",
    "https://imgur.com/undefined",
    "https://imgur.com/oFEU2Vz",
    "https://imgur.com/undefined",
    "https://imgur.com/undefined",
    "https://imgur.com/undefined",
    "https://imgur.com/nO4DlWN",
    "https://imgur.com/undefined"
  ];

  // Pick Random
  const caption = captions[Math.floor(Math.random() * captions.length)];
  const imgURL = images[Math.floor(Math.random() * images.length)];

  // Download + Send
  const filePath = __dirname + "/cache/islm_pic.jpg";

  request(encodeURI(imgURL))
    .pipe(fs.createWriteStream(filePath))
    .on("close", () => {
      api.sendMessage(
        {
          body: `âœ¨ Islamic Caption âœ¨\n\n${caption}`,
          attachment: fs.createReadStream(filePath)
        },
        event.threadID,
        () => fs.unlinkSync(filePath)
      );
    });
};
