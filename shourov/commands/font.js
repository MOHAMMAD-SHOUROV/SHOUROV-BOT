module.exports.config = {
  name: 'font',
  version: '1.1.1',
  permission: 0,
  credits: 'shourov',
  prefix: true,
  description: 'Converts text into various stylish fonts',
  category: 'Tools',
  usages: '<fontType> <input>  or  font list',
  cooldowns: 5,
};

module.exports.run = async ({ api, event, args }) => {
  try {
    const axios = (global.nodemodule && global.nodemodule["axios"]) ? global.nodemodule["axios"] : require("axios");

    // font maps
    const fontMaps = [
      {
        name: 'a',
        map: {
          ' ': ' ',
          'a': 'ùì™','b': 'ùì´','c': 'ùì¨','d': 'ùì≠','e': 'ùìÆ','f': 'ùìØ','g': 'ùì∞','h': 'ùì±',
          'i': 'ùì≤','j': 'ùì≥','k': 'ùì¥','l': 'ùìµ','m': 'ùì∂','n': 'ùì∑','o': 'ùì∏','p': 'ùìπ','q': 'ùì∫',
          'r': 'ùìª','s': 'ùìº','t': 'ùìΩ','u': 'ùìæ','v': 'ùìø','w': 'ùîÄ','x': 'ùîÅ','y': 'ùîÇ','z': 'ùîÉ',
          'A': 'ùìê','B': 'ùìë','C': 'ùìí','D': 'ùìì','E': 'ùìî','F': 'ùìï','G': 'ùìñ','H': 'ùìó',
          'I': 'ùìò','J': 'ùìô','K': 'ùìö','L': 'ùìõ','M': 'ùìú','N': 'ùìù','O': 'ùìû','P': 'ùìü','Q': 'ùì†',
          'R': 'ùì°','S': 'ùì¢','T': 'ùì£','U': 'ùì§','V': 'ùì•','W': 'ùì¶','X': 'ùìß','Y': 'ùì®','Z': 'ùì©',
          '0':'0','1':'1','2':'2','3':'3','4':'4','5':'5','6':'6','7':'7','8':'8','9':'9'
        }
      },
      {
        name: 'b',
        map: {
          ' ': ' ',
          'a': 'ùïí','b': 'ùïì','c': 'ùïî','d': 'ùïï','e': 'ùïñ','f': 'ùïó','g': 'ùïò','h': 'ùïô',
          'i': 'ùïö','j': 'ùïõ','k': 'ùïú','l': 'ùïù','m': 'ùïû','n': 'ùïü','o': 'ùï†','p': 'ùï°','q': 'ùï¢',
          'r': 'ùï£','s': 'ùï§','t': 'ùï•','u': 'ùï¶','v': 'ùïß','w': 'ùï®','x': 'ùï©','y': 'ùï™','z': 'ùï´',
          'A': 'ùî∏','B': 'ùîπ','C': '‚ÑÇ','D': 'ùîª','E': 'ùîº','F': 'ùîΩ','G': 'ùîæ','H': '‚Ñç',
          'I': 'ùïÄ','J': 'ùïÅ','K': 'ùïÇ','L': 'ùïÉ','M': 'ùïÑ','N': '‚Ñï','O': 'ùïÜ','P': '‚Ñô','Q': '‚Ñö',
          'R': '‚Ñù','S': 'ùïä','T': 'ùïã','U': 'ùïå','V': 'ùïç','W': 'ùïé','X': 'ùïè','Y': 'ùïê','Z': '‚Ñ§',
          '0': 'ùüò','1': 'ùüô','2': 'ùüö','3': 'ùüõ','4': 'ùüú','5': 'ùüù','6': 'ùüû','7': 'ùüü','8': 'ùü†','9': 'ùü°'
        }
      },
      {
        name: 'c',
        map: {
          ' ': ' ',
          'a': 'ùóÆ','b': 'ùóØ','c': 'ùó∞','d': 'ùó±','e': 'ùó≤','f': 'ùó≥','g': 'ùó¥','h': 'ùóµ',
          'i': 'ùó∂','j': 'ùó∑','k': 'ùó∏','l': 'ùóπ','m': 'ùó∫','n': 'ùóª','o': 'ùóº','p': 'ùóΩ','q': 'ùóæ',
          'r': 'ùóø','s': 'ùòÄ','t': 'ùòÅ','u': 'ùòÇ','v': 'ùòÉ','w': 'ùòÑ','x': 'ùòÖ','y': 'ùòÜ','z': 'ùòá',
          'A': 'ùóî','B': 'ùóï','C': 'ùóñ','D': 'ùóó','E': 'ùóò','F': 'ùóô','G': 'ùóö','H': 'ùóõ',
          'I': 'ùóú','J': 'ùóù','K': 'ùóû','L': 'ùóü','M': 'ùó†','N': 'ùó°','O': 'ùó¢','P': 'ùó£','Q': 'ùó§',
          'R': 'ùó•','S': 'ùó¶','T': 'ùóß','U': 'ùó®','V': 'ùó©','W': 'ùó™','X': 'ùó´','Y': 'ùó¨','Z': 'ùó≠',
          '0':'0','1':'1','2':'2','3':'3','4':'4','5':'5','6':'6','7':'7','8':'8','9':'9'
        }
      },
      {
        name: 'd',
        map: {
          ' ': ' ',
          'a': 'ùëé','b': 'ùëè','c': 'ùëê','d': 'ùëë','e': 'ùëí','f': 'ùëì','g': 'ùëî','h': 'ùíâ',
          'i': 'ùíä','j': 'ùíã','k': 'ùíå','l': 'ùíç','m': 'ùíé','n': 'ùíè','o': 'ùíê','p': 'ùíë','q': 'ùíí',
          'r': 'ùíì','s': 'ùíî','t': 'ùíï','u': 'ùíñ','v': 'ùíó','w': 'ùíò','x': 'ùíô','y': 'ùíö','z': 'ùíõ',
          'A': 'ùë®','B': 'ùë©','C': 'ùë™','D': 'ùë´','E': 'ùë¨','F': 'ùë≠','G': 'ùëÆ','H': 'ùëØ',
          'I': 'ùë∞','J': 'ùë±','K': 'ùë≤','L': 'ùë≥','M': 'ùë¥','N': 'ùëµ','O': 'ùë∂','P': 'ùë∑','Q': 'ùë∏',
          'R': 'ùëπ','S': 'ùë∫','T': 'ùëª','U': 'ùëº','V': 'ùëΩ','W': 'ùëæ','X': 'ùëø','Y': 'ùíÄ','Z': 'ùíÅ'
        }
      },
      {
        name: 'e',
        map: {
          ' ': ' ',
          'a': 'ùîÑ','b': 'ùîÖ','c': '‚Ñ≠','d': 'ùîá','e': 'ùîà','f': 'ùîâ','g': 'ùîä','h': '‚Ñå',
          'i': '‚Ñë','j': 'ùîç','k': 'ùîé','l': 'ùîè','m': 'ùîê','n': 'ùîë','o': 'ùîí','p': 'ùîì','q': 'ùîî',
          'r': '‚Ñú','s': 'ùîñ','t': 'ùîó','u': 'ùîò','v': 'ùîô','w': 'ùîö','x': 'ùîõ','y': 'ùîú','z': 'ùî∑',
          'A': 'ùîÑ','B': 'ùîÖ','C': '‚Ñ≠','D': 'ùîá','E': 'ùîà','F': 'ùîâ','G': 'ùîä','H': '‚Ñå',
          'I': '‚Ñë','J': 'ùîç','K': 'ùîé','L': 'ùîè','M': 'ùîê','N': 'ùîë','O': 'ùîí','P': 'ùîì','Q': 'ùîî',
          'R': '‚Ñú','S': 'ùîñ','T': 'ùîó','U': 'ùîò','V': 'ùîô','W': 'ùîö','X': 'ùîõ','Y': 'ùîú','Z': '‚Ñ®'
        }
      },
      {
        name: 'f',
        map: {
          ' ': ' ',
          'a': '·¥Ä','b': ' ô','c': '·¥Ñ','d': '·¥Ö','e': '·¥á','f': '“ì','g': '…¢','h': ' ú',
          'i': '…™','j': '·¥ä','k': '·¥ã','l': ' ü','m': '·¥ç','n': '…¥','o': '·¥è','p': '·¥ò','q': '«´',
          'r': ' Ä','s': 's','t': '·¥õ','u': '·¥ú','v': '·¥†','w': '·¥°','x': 'x','y': ' è','z': '·¥¢',
          'A':'A','B':'B','C':'C','D':'D','E':'E','F':'F','G':'G','H':'H','I':'I','J':'J',
          'K':'K','L':'L','M':'M','N':'N','O':'O','P':'P','Q':'Q','R':'R','S':'S','T':'T',
          'U':'U','V':'V','W':'W','X':'X','Y':'Y','Z':'Z'
        }
      },
      {
        name: 'g',
        map: {
          ' ': ' ',
          'a': 'üÖ∞','b': 'üÖ±','c': 'üÖ≤','d': 'üÖ≥','e': 'üÖ¥','f': 'üÖµ','g': 'üÖ∂','h': 'üÖ∑',
          'i': 'üÖ∏','j': 'üÖπ','k': 'üÖ∫','l': 'üÖª','m': 'üÖº','n': 'üÖΩ','o': 'üÖæ','p': 'üÖø','q': 'üÜÄ',
          'r': 'üÜÅ','s': 'üÜÇ','t': 'üÜÉ','u': 'üÜÑ','v': 'üÜÖ','w': 'üÜÜ','x': 'üÜá','y': 'üÜà','z': 'üÜâ',
          'A':'üÖ∞','B':'üÖ±','C':'üÖ≤','D':'üÖ≥','E':'üÖ¥','F':'üÖµ','G':'üÖ∂','H':'üÖ∑','I':'üÖ∏','J':'üÖπ',
          'K':'üÖ∫','L':'üÖª','M':'üÖº','N':'üÖΩ','O':'üÖæ','P':'üÖø','Q':'üÜÄ','R':'üÜÅ','S':'üÜÇ','T':'üÜÉ',
          'U':'üÜÑ','V':'üÜÖ','W':'üÜÜ','X':'üÜá','Y':'üÜà','Z':'üÜâ'
        }
      },
      {
        name: 'h',
        map: {
          ' ': ' ',
          'a': 'üÖê','b': 'üÖë','c': 'üÖí','d': 'üÖì','e': 'üÖî','f': 'üÖï','g': 'üÖñ','h': 'üÖó',
          'i': 'üÖò','j': 'üÖô','k': 'üÖö','l': 'üÖõ','m': 'üÖú','n': 'üÖù','o': 'üÖû','p': 'üÖü','q': 'üÖ†',
          'r': 'üÖ°','s': 'üÖ¢','t': 'üÖ£','u': 'üÖ§','v': 'üÖ•','w': 'üÖ¶','x': 'üÖß','y': 'üÖ®','z': 'üÖ©',
          '0': '‚ìø','1': '‚ù∂','2': '‚ù∑','3': '‚ù∏','4': '‚ùπ','5': '‚ù∫','6': '‚ùª','7': '‚ùº','8': '‚ùΩ','9': '‚ùæ'
        }
      },
      {
        name: 'i',
        map: {
          ' ': ' ',
          'a': 'ùêö','b': 'ùêõ','c': 'ùêú','d': 'ùêù','e': 'ùêû','f': 'ùêü','g': 'ùê†','h': 'ùê°',
          'i': 'ùê¢','j': 'ùê£','k': 'ùê§','l': 'ùê•','m': 'ùê¶','n': 'ùêß','o': 'ùê®','p': 'ùê©','q': 'ùê™',
          'r': 'ùê´','s': 'ùê¨','t': 'ùê≠','u': 'ùêÆ','v': 'ùêØ','w': 'ùê∞','x': 'ùê±','y': 'ùê≤','z': 'ùê≥',
          'A': 'ùêÄ','B': 'ùêÅ','C': 'ùêÇ','D': 'ùêÉ','E': 'ùêÑ','F': 'ùêÖ','G': 'ùêÜ','H': 'ùêá',
          'I': 'ùêà','J': 'ùêâ','K': 'ùêä','L': 'ùêã','M': 'ùêå','N': 'ùêç','O': 'ùêé','P': 'ùêè','Q': 'ùêê',
          'R': 'ùêë','S': 'ùêí','T': 'ùêì','U': 'ùêî','V': 'ùêï','W': 'ùêñ','X': 'ùêó','Y': 'ùêò','Z': 'ùêô',
          '0': 'ùüé','1': 'ùüè','2': 'ùüê','3': 'ùüë','4': 'ùüí','5': 'ùüì','6': 'ùüî','7': 'ùüï','8': 'ùüñ','9': 'ùüó'
        }
      }
    ]; // end fontMaps

    // no args -> help
    if (!args || args.length === 0) {
      const help = `‚Ä¢‚îÑ‚îÖ‚ïê‚ïê‚ïê‚ïê‚ùÅüå∫‚ùÅ‚ïê‚ïê‚ïê‚ïê‚îÖ‚îÑ‚Ä¢
‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø Stylish Font ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø:
‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£: ${global.config && global.config.PREFIX ? global.config.PREFIX : '/'}font a hello world
Font list ‡¶¶‡ßá‡¶ñ‡¶§‡ßá: ${global.config && global.config.PREFIX ? global.config.PREFIX : '/'}font list

Available fonts: ${fontMaps.map(f => f.name).join(', ')}
‚Ä¢‚îÑ‚îÖ‚ïê‚ïê‚ïê‚ïê‚ùÅüå∫‚ùÅ‚ïê‚ïê‚ïê‚ïê‚îÖ‚îÑ‚Ä¢`;
      return api.sendMessage(help, event.threadID, event.messageID);
    }

    // list
    if (args[0].toLowerCase() === 'list') {
      return api.sendMessage(`Font list: ${fontMaps.map(f => f.name).join(', ')}`, event.threadID, event.messageID);
    }

    const fontType = args.shift().toLowerCase();
    const inputText = args.join(' ').trim();

    if (!inputText) {
      return api.sendMessage('Input text is missing. Usage: font <type> <text>', event.threadID, event.messageID);
    }

    const font = fontMaps.find(f => f.name === fontType);
    if (!font) {
      return api.sendMessage(`Invalid font type '${fontType}'. Available: ${fontMaps.map(f => f.name).join(', ')}`, event.threadID, event.messageID);
    }

    // create output
    const outputText = inputText.split('').map(ch => font.map[ch] || font.map[ch.toLowerCase()] || ch).join('');

    // optional small image/gif attachment (best-effort)
    try {
      const thumbUrl = 'https://i.imgur.com/wbdZ0NN.jpeg'; // static image as decoration
      const resp = await axios.get(thumbUrl, { responseType: 'stream', timeout: 10000 });
      return api.sendMessage({ body: outputText, attachment: resp.data }, event.threadID, event.messageID);
    } catch (e) {
      // if image fails, send plain text
      return api.sendMessage(outputText, event.threadID, event.messageID);
    }
  } catch (err) {
    console.error('font command error:', err);
    try { return api.sendMessage('‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶ò‡¶ü‡ßá‡¶õ‡ßá ‚Äî ‡¶™‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§', event.threadID, event.messageID); } catch(e) {}
  }
};